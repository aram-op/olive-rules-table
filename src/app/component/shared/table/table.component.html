<div class="table-container">
  <mat-form-field appearance="outline" class="rules-search">
    <input [formControl]="searchInput" matInput placeholder="Search" type="text">
    <mat-icon matSuffix>
    <span class="material-symbols-rounded">
      search
    </span>
    </mat-icon>
  </mat-form-field>

  <table [dataSource]="dataSource" mat-table>
    @for (columnName of displayedColumns; track columnName) {
      <ng-container [matColumnDef]="columnName">
        <th mat-header-cell *matHeaderCellDef>{{ headers.get(columnName) }}</th>
        <td
          mat-cell
          *matCellDef="let row"
          [innerHtml]="row.templates.get(columnName)"
        >
        </td>
      </ng-container>
    }

    <tr *matHeaderRowDef="displayedColumns; sticky: true" mat-header-row></tr>
    <tr (click)="onRowSelected(row)" *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
  </table>
</div>

<mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
